<!DOCTYPE html>
<html>
<head>
    <title>WTOP Local News</title>
    <meta http-equiv="refresh" content="300">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6f9;
            padding: 20px;
        }
        h2 { margin-bottom: 20px; }
        .news-item {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .news-item a {
            text-decoration: none;
            font-weight: bold;
            color: #1a73e8;
        }
        .date {
            font-size: 12px;
            color: gray;
        }
    </style>
</head>
<body>

<h2>WTOP Local News</h2>
<div id="feed">Loading news...</div>

<script>
const rssUrl = "https://api.allorigins.win/raw?url=" + 
               encodeURIComponent("http://wtop.com/region/local/feed/");

fetch(rssUrl)
  .then(response => response.text())
  .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
  .then(data => {
      const items = data.querySelectorAll("item");
      const container = document.getElementById("feed");
      container.innerHTML = "";

      items.forEach((el, index) => {
          if (index < 10) {
              const title = el.querySelector("title").textContent;
              const link = el.querySelector("link").textContent;
              const pubDate = el.querySelector("pubDate").textContent;

              const div = document.createElement("div");
              div.className = "news-item";
              div.innerHTML = `
                  <a href="${link}" target="_blank">${title}</a>
                  <div class="date">${new Date(pubDate).toLocaleString()}</div>
              `;

              container.appendChild(div);
          }
      });
  })
  .catch(error => {
      document.getElementById("feed").innerHTML =
        "Unable to load feed. CORS restriction or network issue.";
  });
</script>

</body>
</html>
